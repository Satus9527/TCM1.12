# 🔧 前端对接问题清单

**前端项目**: czb_test4  
**检查日期**: 2025年11月3日  
**状态**: ⚠️ 发现问题，需要修复

---

## ❌ 发现的问题

### 1. 环境变量配置缺失 ⚠️ 严重

**问题**: 没有 `.env` 文件，无法配置后端API地址

**影响**: API请求无法发送到正确的后端地址

**修复**:
- [ ] 创建 `.env.development` 文件
- [ ] 创建 `.env.production` 文件
- [ ] 配置 `VITE_API_BASE_URL`

---

### 2. Element UI 版本不匹配 ⚠️ 严重

**问题**: 
- `package.json` 使用 Element Plus 2.11.5
- `src/utils/request.js` 使用 Element UI 语法
- Element Plus 没有 `Message` 和 `MessageBox`

**影响**: 所有消息提示和弹窗无法工作

**修复**:
- [ ] 修改 `src/utils/request.js` 使用 Element Plus 语法
- [ ] 更新所有组件的引用

---

### 3. Vuex store 问题 ⚠️ 中等

**问题**: 
- `CLEAR_USER` 应该是 `clearUser`
- mutation 命名不一致
- 使用了 Options API 而不是 Composition API

**影响**: 状态管理可能不稳定

**修复**:
- [ ] 统一 mutation 命名
- [ ] 检查所有调用

---

### 4. 模拟数据未连接API ⚠️ 严重

**问题**:
- 所有页面使用模拟数据
- 未真正调用后端API
- `src/utils/request.js` 未使用

**影响**: 无法获取真实数据

**修复**:
- [ ] 连接登录API
- [ ] 连接知识库API
- [ ] 连接推荐API
- [ ] 连接模拟API

---

### 5. 缺少API服务层 ⚠️ 中等

**问题**: 没有 API 服务封装
- 没有统一的 API 调用管理
- 各页面直接写请求代码

**建议**: 
- [ ] 创建 `src/api/` 文件夹
- [ ] 创建各模块的 API 服务

---

### 6. WebSocket 未实现 ⚠️ 中等

**问题**: `src/utils/websocket.js` 存在但未使用

**影响**: 实时模拟功能不可用

**修复**:
- [ ] 实现 WebSocket 连接
- [ ] 在 Simulation 页面使用

---

### 7. 图标引用错误 ⚠️ 轻微

**问题**: 使用 `el-icon-*` 格式（Element UI）
- 应该使用 `@element-plus/icons-vue` 组件

**影响**: 图标显示异常

**修复**:
- [ ] 更新所有图标引用
- [ ] 使用正确的图标组件

---

## 📋 修复优先级

### P0 - 必须修复（立即修复）

1. 环境变量配置
2. Element Plus 引用错误
3. 连接真实API

---

### P1 - 重要修复（尽快修复）

4. API服务层
5. WebSocket实现
6. Store一致性

---

### P2 - 优化改进（可以稍后）

7. 图标引用
8. 代码规范优化

---

## 🔧 修复计划

### 第一步：环境配置

创建 `.env.development`:
```env
VITE_API_BASE_URL=http://localhost:3000/api
```

---

### 第二步：修复Element Plus

修改 `src/utils/request.js` 使用 Element Plus

---

### 第三步：创建API服务

创建 `src/api/` 文件夹和API封装

---

### 第四步：连接真实API

修改各页面使用真实API调用

---

**问题总数**: 7个  
**严重问题**: 3个  
**状态**: ⚠️ 需要修复后才能对接

