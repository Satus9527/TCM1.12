## 修复与后端对接计划：解决红框记录显示问题

### 问题分析
1. **功效主治重复显示**：第二张图红框显示功效主治内容重复，原因是药材详情弹窗中功效主治区域可能存在重复渲染或数据重复
2. **配伍成功率显示异常**：第一张图红框显示配伍成功率为15%，需要检查其数据来源和显示逻辑

### 修复方案

#### 1. 修复功效主治重复显示问题 (`d:\TCM web\czb\src\views\Knowledge.vue`)
- **问题定位**：药材详情弹窗（第218-369行）的功效主治区域（第296-313行）显示重复内容
- **修复方法**：检查功效主治区域的渲染逻辑，确保只显示一次内容
- **具体操作**：
  - 检查`selectedMedicine.efficacy`数据结构，确保没有重复内容
  - 优化功效主治区域的模板，删除可能导致重复的代码
  - 保持MedicineDetail组件不变，仅优化其使用方式

#### 2. 修复配伍成功率显示问题 (`d:\TCM web\czb\src\views\Dashboard.vue`)
- **问题定位**：配伍成功率从模拟数据中获取，当前设置为15%
- **修复方法**：调整模拟数据，设置合理的配伍成功率值
- **具体操作**：
  - 修改`loadRealData`方法中的`statsData.compatibilityRate`值
  - 确保`statsOverview`数组中配伍成功率的配置正确

### 后端构建与对接计划

#### 1. 构建后端API服务
- **需要构建的API**：
  - `GET /api/user/stats` - 获取用户统计数据
  - `GET /api/medicine/categories` - 获取药材分类
  - `GET /api/medicine/search` - 搜索药材
  - `GET /api/medicine/detail/:id` - 获取药材详情
  - `GET /api/prescription/list` - 获取配伍记录
  - `GET /api/user/activities` - 获取用户活动记录
  - `GET /api/user/tips` - 获取今日提示

#### 2. 前端与后端对接方案
- **数据格式统一**：确保前后端使用统一的JSON数据格式，包含`code`、`data`、`message`字段
- **API调用适配**：修改前端API调用，确保正确处理后端返回数据
- **错误处理优化**：完善前端错误处理机制，区分不同类型的错误
- **环境配置**：配置开发环境和生产环境的API地址

#### 3. 模拟数据过渡方案
- **当前阶段**：继续使用模拟数据，确保前端功能正常
- **过渡阶段**：添加环境变量配置，支持切换模拟数据和真实API
- **对接阶段**：逐步替换模拟数据，使用真实API数据

### 修复与对接步骤
1. 修复功效主治重复显示问题
2. 调整配伍成功率的模拟数据
3. 设计后端API接口规范
4. 实现后端API服务
5. 修改前端API调用，适配真实后端
6. 测试前后端对接效果
7. 优化错误处理和用户体验

### 预期效果
- 功效主治内容不再重复显示
- 配伍成功率显示正确值
- 前端与后端成功对接
- 系统运行稳定，用户体验良好